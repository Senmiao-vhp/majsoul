# 游戏设计文档

## 1. 游戏机制

### 1.1 基础操作

* 摸牌：从牌山顺序摸牌
* 打牌：选择手牌中的一张打出
* 副露：
  - 吃碰杠操作（显示操作按钮）
  - 跳过操作（显示操作按钮）
* 立直、双立直：
  - 显示立直操作按钮
  - 立直宣言牌横置显示
  - 立直后不能改变打牌选择
* 振听：
  - 不显示提示和标记
  - 振听后只能自摸和牌
* 胡牌：
  - 显示和牌操作按钮
  - 显示详细役种、符数、番数和点数计算

### 1.2 游戏规则

* 役种：实现雀魂段位场所有役种（包括累计役满）
* 宝牌：
  - 实现普通宝牌
  - 实现红宝牌
  - 显示宝牌指示牌（最多4张）
* 点数计算：
  - 基础点数计算
  - 终局顺位点计算
* 庄家规则：
  - 连庄条件
  - 本场数增加条件
* 流局：仅实现牌山摸完无人听牌的流局
* 发牌：
  - 开局自动发牌
  - 手牌自动排序
  - 杠后直接显示补牌结果

## 2. 对局设计

* 四人东风场人机对局：
  - 一位玩家，三位AI
  - AI采用自动摸切策略（不吃碰杠）
  - 预留AI决策接口以供后续扩展

## 3. 游戏界面设计

* 主界面布局：

  - 开始对局按钮
  - 退出按钮
* 对局界面（参考天凤）：

  - 牌桌布局
  - 手牌区域
  - 打牌区域
  - 副露区域（根据副露类型正确摆放）
  - 剩余牌数显示
  - 最后打出牌高亮显示
* 计分板显示：

  - 四家当前点数
  - 当前局次（东x-x本场）
  - 立直标记（红点）
  - 当前玩家标记（绿点）
  - 立直棒数量

## 4. 游戏流程设计

* 对局流程：

  - 开局发牌
  - 进行对局
  - 终局结算
* 回合流程：

  - 摸牌
  - 判断和牌
  - 判断杠
  - 打牌
  - 判断其他玩家操作
* 结算流程：

  - 和牌计算
  - 点数移动
  - 连庄判定
  - 本场数变化

## 5. AI设计

* 基础AI行为：
  - 自动摸切
  - 不进行副露操作
  - 跳过所有可选操作
* 预留AI决策接口

## 6. 音效设计

* 暂不实现

## 7. 美术风格

* 参考天凤界面风格
