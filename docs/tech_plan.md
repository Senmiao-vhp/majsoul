# 技术方案文档

## 1. 开发环境

* 语言：Python 3.13
* 框架：Pygame
* 开发工具：VSCode

## 2. 核心类设计

### 2.1 游戏核心类

* `Game`：游戏主类

  - 负责游戏整体流程控制
  - 管理对局状态
  - 处理游戏事件
* `Player`：玩家类

  - 管理玩家手牌
  - 处理玩家操作
  - AI行为控制（人机）
* `Tile`：麻将牌类

  - 牌面信息
  - 牌的状态
* `Hand`：手牌类

  - 手牌管理
  - 和牌判定
  - 役种判定
* `Board`：牌桌类

  - 牌山管理
  - 场况显示
  - 回合控制

### 2.2 界面类

* `GameUI`：游戏界面类

  - 界面渲染
  - 动画效果
  - 用户输入处理
* `ResourceManager`：资源管理类

  - 图片资源
  - 音效资源
  - 配置文件

## 3. 系统架构

### 3.1 分层架构

1. 表现层

   - 负责游戏画面渲染
   - 处理用户输入
   - 播放音效和动画
2. 逻辑层

   - 游戏核心逻辑
   - AI决策系统
   - 和牌判定系统
3. 数据层

   - 资源管理
   - 配置读取
   - 游戏存档

### 3.2 模块关系

Game

├── Board

│ ├── Tile

│ └── ResourceManager

├── Player

│ └── Hand

└── GameUI


### 3.3 数据流

1. 游戏初始化

   - 加载资源
   - 初始化牌桌
   - 生成玩家
2. 游戏循环

   - 处理用户输入
   - 更新游戏状态
   - 渲染画面
3. 对局流程

   - 发牌
   - 玩家/AI行动
   - 和牌判定
